# NCC Backend

Система управления сетевой инфраструктурой с функциями биллинга и мониторинга.

## Описание

NCC Backend (NetEngine) - это комплексная система для управления сетевыми услугами, включающая:

- **RADIUS сервер** - аутентификация и авторизация сетевых подключений
- **DHCP сервер** - управление IP-адресами и сетевой конфигурацией
- **Биллинговая система** - расчет и обработка платежей (fees)
- **Платежный шлюз** - интеграция с платежными системами
- **Система уведомлений** - отправка информационных сообщений
- **Экспорт данных** - выгрузка отчетов и данных
- **Планировщик задач** - автоматизация рутинных операций

## Технологии

- **Go 1.21+** - основной язык разработки
- **PostgreSQL** - база данных
- **Redis** - кеширование
- **RabbitMQ** - очереди сообщений (Watermill)
- **Gin/Echo** - HTTP фреймворки
- **GORM** - ORM для работы с БД
- **Telegram Bot API** - уведомления
- **MinIO** - объектное хранилище

## Структура проекта

```
├── cmd/           # CLI команды и точки входа
├── services/      # Бизнес-логика сервисов
│   ├── radius/    # RADIUS сервер
│   ├── dhcp/      # DHCP сервер
│   ├── fees/      # Биллинговая система
│   ├── payment-gateway/ # Платежный шлюз
│   ├── informings/ # Система уведомлений
│   └── exporter/  # Экспорт данных
├── pkg/           # Общие пакеты и утилиты
├── handlers/      # HTTP обработчики
├── configs/       # Конфигурационные файлы
├── deployments/   # Docker и развертывание
└── tests/         # Тесты
```

## Установка и запуск

### Требования

- Go 1.21+
- PostgreSQL 12+
- Redis
- RabbitMQ

### Сборка

```bash
go mod download
go build -o ncc-backend main.go
```

### Запуск

```bash
# API сервер
./ncc-backend api -c configs/local.yaml

# RADIUS сервер
./ncc-backend radius -c configs/local.yaml

# DHCP сервер
./ncc-backend dhcp -c configs/local.yaml

# Планировщик
./ncc-backend scheduler -c configs/local.yaml
```

## Основные команды

- `api` - запуск HTTP API сервера
- `radius` - запуск RADIUS сервера аутентификации
- `dhcp` - запуск DHCP сервера
- `fees` - обработка биллинговых операций
- `scheduler` - запуск планировщика задач
- `exporter` - экспорт данных
- `migrate` - миграции базы данных

## Конфигурация

Основной файл конфигурации: `configs/local.yaml`

Настройки включают подключение к БД, Redis, RabbitMQ, параметры сервисов.

## Лицензия

Apache License 2.0